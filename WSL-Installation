# System‚ÄëDrive Isolation for WSL: Professional Setup Guide

<details>
<summary>üìë Table of Contents</summary>

1. [Introduction](#introduction)  
2. [Pros & Cons Analysis](#pros--cons-analysis)  
3. [Prerequisites](#prerequisites)  
4. [Step‚Äëby‚ÄëStep Setup Guide](#step-by-step-setup-guide)  
   1. [Folder Preparation](#folder-preparation)  
   2. [Enable Windows Features](#enable-windows-features)  
   3. [Install WSL & Ubuntu](#install-wsl--ubuntu)  
   4. [Export, Unregister & Import Distro](#export-unregister--import-distro)  
5. [Verification Steps](#verification-steps)  
6. [Advanced Configuration](#advanced-configuration)  
   1. [User Management](#user-management)  
   2. [Drive Mount Control](#drive-mount-control)  
   3. [Shell Prompt & Startup](#shell-prompt--startup)  
7. [GitHub Repository Implementation Guide](#github-repository-implementation-guide)  
8. [GitHub Pages Deployment](#github-pages-deployment)  
9. [Markdown & GitHub‚ÄëReady Formatting](#markdown--github-ready-formatting)  
10. [Conclusion](#conclusion)  

</details>

---

## Introduction
This guide shows you how to install and configure **WSL¬†2** so that **all** Linux data resides on a separate drive (e.g. `E:\appData\WSL`) while your **C:** drive remains read‚Äëonly and uncluttered. You will also learn best practices for organizing a GitHub repository and publishing via GitHub Pages, complete with a professional Markdown template.

---

## Pros & Cons Analysis

### Advantages
- **System protection:** Isolating distro files on **E:** prevents accidental writes to **C:**, safeguarding Windows system files.  
- **Simplified backups:** Snapshot or copy `E:\appData\WSL` directly without digging through user profiles.  
- **Resource isolation:** Large data sets no longer bloat your system drive.  
- **Near‚Äënative performance:** ext4 VHDX on a dedicated drive approaches native I/O speeds under WSL¬†2.  
- **Clean separation:** The ext4.vhdx is by default inaccessible to Windows tools, reducing cross‚Äëcontamination risk.

### Disadvantages
- **Setup complexity:** Multiple PowerShell and Linux commands increase the learning curve.  
- **Maintenance overhead:** Major WSL or distro updates may require re‚Äëexport/import or config tweaks.  
- **I/O caveats:** DrvFs mounts on non‚Äësystem drives can be slower under heavy load.  
- **Limited Windows scanning:** Antivirus or Windows tooling won‚Äôt inspect ext4.vhdx.  
- **Portability:** Custom drive mappings may not transfer seamlessly to other machines.

---

## Prerequisites
- **Windows Version:** Windows¬†10¬†1903+ or Windows¬†11  
- **Admin Access:** PowerShell **as Administrator**  
- **Drive Space:** ‚â•¬†10¬†GB free on **E:** (or your chosen drive)  
- **Internet:** Required for kernel and distro downloads

---

## Step‚Äëby‚ÄëStep Setup Guide

### Folder Preparation
Create the required directories on **E:**:
```powershell
New-Item -ItemType Directory `
  -Path "E:\appData\WSL\Ubuntu\Rootfs" `
  -Force
```

### Enable Windows Features
Enable WSL and the Virtual Machine Platform:
```powershell
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux `
  /all /norestart
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform `
  /all /norestart
Restart-Computer -Force
```

### Install WSL & Ubuntu
Install the latest WSL components and Ubuntu:
```powershell
wsl --install
```

### Export, Unregister & Import Distro
Move your Ubuntu distro entirely to **E:**:
```powershell
wsl --shutdown
wsl --export Ubuntu E:\appData\WSL\Ubuntu.tar
wsl --unregister Ubuntu
wsl --import Ubuntu "E:\appData\WSL\Ubuntu\Rootfs" "E:\appData\WSL\Ubuntu.tar" --version 2
Remove-Item "E:\appData\WSL\Ubuntu\Ubuntu.tar" -Force
```

---

## Verification Steps
1. List installed distros and versions:
   ```powershell
   wsl -l -v
   ```
2. Confirm the BasePath registry entry:
   ```powershell
   (Get-ChildItem HKCU:\Software\Microsoft\Windows\CurrentVersion\Lxss |
     ForEach-Object { Get-ItemProperty $_.PSPath }) |
     Select DistributionName, BasePath
   ```
3. Verify **C:** is mounted read‚Äëonly:
   ```bash
   mount | grep ' on /mnt/c '
   ```

---

## Advanced Configuration

### User Management
Create a non‚Äëroot user with sudo privileges:
```bash
wsl -d Ubuntu -u root
adduser devuser
usermod -aG sudo devuser
```

### Drive Mount Control
Edit **`/etc/wsl.conf`** to disable automount and process `/etc/fstab`:
```ini
[boot]
systemd = true

[automount]
enabled    = false
mountFsTab = true

[interop]
enabled           = false
appendWindowsPath = false

[user]
default = devuser
```
Define a read‚Äëonly mount for **C:** in **`/etc/fstab`**:
```
C:  /mnt/c  drvfs  ro,defaults  0 0
```

### Shell Prompt & Startup
Ensure each shell session starts in the user‚Äôs home and uses a clean prompt. Add to `~/.bashrc` and `/root/.bashrc`:
```bash
cd ~
```

---

## GitHub Repository Implementation Guide
1. **Repository Structure:**
   ```
   .
   ‚îú‚îÄ‚îÄ docs/              # Markdown guide (index.md)
   ‚îú‚îÄ‚îÄ images/            # Screenshots & diagrams
   ‚îú‚îÄ‚îÄ .github/           # CI configs, issue templates
   ‚îú‚îÄ‚îÄ README.md          # Project overview
   ‚îú‚îÄ‚îÄ CONTRIBUTING.md    # Contribution guidelines
   ‚îú‚îÄ‚îÄ LICENSE            # License file
   ‚îî‚îÄ‚îÄ .gitignore
   ```
2. **Naming Conventions:**
   - Lowercase, hyphen‚Äëseparated filenames (e.g., `system-drive-isolation.md`)  
   - Use `README.md` for quickstart at repository root  
3. **Essential Files:**
   - `README.md` with badges and overview  
   - `.gitignore` to exclude `Rootfs/**/tmp`, VHDX temp files  
   - `LICENSE` (MIT or Apache)  
4. **Markdown Best Practices:**
   - Fenced code blocks with language tags (```powershell```, ```bash```)  
   - Use `##`/`###` for headings  
   - Callouts:
     > ‚ö†Ô∏è Warning: Always run `wsl --shutdown` after editing configurations.  
   - Collapsible sections:
     ```html
     <details><summary>Expand for details</summary>
     ‚Ä¶content‚Ä¶
     </details>
     ```

---

## GitHub Pages Deployment
1. Place this guide in `docs/index.md`.  
2. In GitHub settings, enable Pages from the `docs/` folder on the `main` branch.  
3. *(Optional)* Add a `_config.yml` for a Jekyll theme.  
4. *(Optional)* Configure a custom domain.

---

## Markdown & GitHub‚ÄëReady Formatting
- **Tables:**
  ```markdown
  | Option       | Description                |
  |--------------|----------------------------|
  | `ro,defaults`| Mounts file system read‚Äëonly |
  ```
- **Badges:**
  ```markdown
  ![License](https://img.shields.io/badge/license-MIT-green)
  ```
- **Images:**
  ```markdown
  ![Setup Screenshot](images/setup.png)
  ```

---

## Conclusion
You now have a **single** fenced‚Äë`markdown` block containing your entire professional WSL setup guide. Copy and paste this block into a `.md` file in your GitHub repository‚Äîno further editing required. Enjoy your clean, secure, and high-performance WSL environment!
``` ```
